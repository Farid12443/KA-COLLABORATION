<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/login.css">
  <!-- <link rel="stylesheet" href="css/style.css"> -->
  <title>Document</title>
</head>

<body class="body">
  <!-- navbar -->
  <nav class="navbar">
    <div class="nav-left">
      <img src="images/Icon.png" alt="Logo" class="logo" />
    </div>
    <!-- <div class="nav-right">
      <div class="search-section">
        <form action="" class="search">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input type="text" placeholder="Search for anything..." />
        </form>
      </div>
      <i class="fa-regular fa-bell bell"></i>
      <div class="profile">
        <div class="profile-info">
          <p class="name">Anima Agrawal</p>
          <span class="location">U.P, India</span>
        </div>
        <img src="images/profil.png" alt="Profile" class="profile-img" />
      </div>
    </div> -->
  </nav>

  <div class="content-all">

    <div class="image">
      <img src="images/image-login.png" alt="" class="image">
    </div>
    <div class="all-item-content">
      <h1 class="h1">Welcome back, yash</h1>
      <h3>welcome back pleace enter your details</h3>
      <div class="erorMassage" id="erorMassage"></div>
      <form action="" class="input-style" id="registerForm">
        <input placeholder="add your name" type="text" class="input" id="username">
        <input placeholder="email@gmail.com" type="email" class="input" id="email">
        <input placeholder="add password" type="password" class="input" id="password">
        <input placeholder="Confirm Password" type="password" class="input" id="konfirmasiPassword">
        <div class="checkbox-terms">
          <div class="checkbox-terms2">
            <input type="checkbox">
            <p>terms & Conditions</p>
          </div>
          <p>Forgot <a href="">password</a></p>
        </div>
        <button type="submit" class="button">Log in</button>
        <p class="bottem-crate-akun">dont,have account? <a href="">Sing up for free</a></p>
      </form>
    </div>

  </div>

  <script>
    const registerForm = document.getElementById('registerForm');
    const erorMassage = document.getElementById('erorMassage');

    registerForm.addEventListener('submit', (e) => {

      e.preventDefault();

      const namaLengkap = document.getElementById('username').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('konfirmasiPassword').value;

      console.log({
        'nama': namaLengkap,
        'Email': email,
        'password': password,
        'konfirmasi password': confirmPassword
      })

      if (password != confirmPassword) {
        erorMassage.textContent = 'Password tidak cocok!';
        erorMassage.classlist.remove('hidden');
        return;
      }

      //mengambil user
      const users = JSON.parse(localStorage.getItem('users') || '[]');

      if (users.some(u => u.email === email)) {
        erorMassage.textContent = 'Email sudah terdaftar!';
        erorMassage.classlist.remove('hidden');
        return;
      }
      // menambah data user baru
      users.push({ namaLengkap, email, password });
      localStorage.setItem('users', JSON.stringify(users));
      const user = {
        "nama": namaLengkap,
        "email": email
      }

      //autologin
      localStorage.setItem('currentUser', JSON.stringify(user));
      alert(namaLengkap)

      window.location.href = 'index.html';
    });
  </script>

</body>

</html>